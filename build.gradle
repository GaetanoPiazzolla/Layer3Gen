plugins {
	id 'java'
	id 'idea'
	id 'java-gradle-plugin'
	id 'maven'
}

group = 'gae.piaz'
version = '0.0.6-SNAPSHOT'

repositories {
	mavenCentral()
}

dependencies {
	implementation 'org.yaml:snakeyaml:1.23'
	implementation 'org.slf4j:slf4j-api:1.7.25'
	implementation 'com.google.guava:guava:26.0-jre'
	implementation 'org.apache.commons:commons-lang3:3.8.1'

	implementation 'org.hibernate.javax.persistence:hibernate-jpa-2.1-api:1.0.0.Final'
	implementation 'org.reflections:reflections:0.9.11' // read classes
	implementation 'org.freemarker:freemarker:2.3.23'// write classes

	compileOnly 'org.projectlombok:lombok:1.18.2'
	compileOnly gradleApi()

	annotationProcessor "org.mapstruct:mapstruct-processor:1.3.1.Final"
	annotationProcessor 'org.projectlombok:lombok:1.18.12'

}

gradlePlugin {
	plugins {
		simplePlugin {
			id = 'gae.piaz.layer3gen'
			implementationClass = 'gae.piaz.layer3gen.gradle.Layer3GenPlugin'
		}
	}
}

/*
HOW to configure fat jar
jar {
	manifest {
		attributes(
				'Main-Class': 'gae.piaz.spring3layergen.Main'
		)
	}
	from {
		configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
	}
}*/